---
title: "Autentica√ß√£o"
description: "Aprenda como autenticar suas requisi√ß√µes na API StylePay"
---

## Vis√£o Geral

A API StylePay utiliza um sistema de autentica√ß√£o baseado em credenciais via headers HTTP customizados. Todas as requisi√ß√µes √† API devem incluir suas credenciais de autentica√ß√£o.

## Credenciais de API

Para acessar a API, voc√™ precisar√° de duas credenciais:

<ParamField header="stpi" type="string" required>
  **Client ID** - Identificador √∫nico da sua aplica√ß√£o
</ParamField>

<ParamField header="stps" type="string" required>
  **Client Secret** - Chave secreta para autentica√ß√£o
</ParamField>

<Warning>
  Mantenha suas credenciais seguras! Nunca compartilhe seu **Client Secret** ou o exponha em c√≥digo cliente (frontend, aplicativos m√≥veis, etc.).
</Warning>

## Como Obter suas Credenciais

1. Acesse o painel de administra√ß√£o StylePay
2. Navegue at√© a se√ß√£o de **Configura√ß√µes de API**
3. Gere ou copie suas credenciais **Client ID** (stpi) e **Client Secret** (stps)

<Note>
  Se voc√™ ainda n√£o possui credenciais, entre em contato com o suporte StylePay para criar uma conta de desenvolvedor.
</Note>

## Como Autenticar

Inclua suas credenciais no header de todas as requisi√ß√µes HTTP:

<CodeGroup>

```bash cURL
curl --location 'https://api.stylepay.com.br/api/v1/endpoint' \
--header 'stpi: seu_client_id' \
--header 'stps: seu_client_secret' \
--header 'Content-Type: application/json'
```

```javascript JavaScript
const response = await fetch('https://api.stylepay.com.br/api/v1/endpoint', {
  method: 'POST',
  headers: {
    'stpi': 'seu_client_id',
    'stps': 'seu_client_secret',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    // seus dados aqui
  })
});
```

```python Python
import requests

url = "https://api.stylepay.com.br/api/v1/endpoint"

headers = {
    "stpi": "seu_client_id",
    "stps": "seu_client_secret",
    "Content-Type": "application/json"
}

response = requests.post(url, headers=headers, json={
    # seus dados aqui
})
```

```php PHP
<?php

$url = "https://api.stylepay.com.br/api/v1/endpoint";

$headers = [
    "stpi: seu_client_id",
    "stps: seu_client_secret",
    "Content-Type: application/json"
];

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
    // seus dados aqui
]));
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
curl_close($ch);
?>
```

```go Go
package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    url := "https://api.stylepay.com.br/api/v1/endpoint"
    
    payload := map[string]interface{}{
        // seus dados aqui
    }
    
    jsonData, _ := json.Marshal(payload)
    
    req, _ := http.NewRequest("POST", url, bytes.NewBuffer(jsonData))
    req.Header.Set("stpi", "seu_client_id")
    req.Header.Set("stps", "seu_client_secret")
    req.Header.Set("Content-Type", "application/json")
    
    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}
```

```ruby Ruby
require 'net/http'
require 'json'

url = URI("https://api.stylepay.com.br/api/v1/endpoint")

http = Net::HTTP.new(url.host, url.port)
http.use_ssl = true

request = Net::HTTP::Post.new(url)
request["stpi"] = "seu_client_id"
request["stps"] = "seu_client_secret"
request["Content-Type"] = "application/json"
request.body = {
  # seus dados aqui
}.to_json

response = http.request(request)
```

</CodeGroup>

## Respostas de Autentica√ß√£o

### Autentica√ß√£o Bem-Sucedida

Quando suas credenciais s√£o v√°lidas, a API processar√° sua requisi√ß√£o normalmente e retornar√° a resposta esperada do endpoint.

### Falha na Autentica√ß√£o

Se as credenciais forem inv√°lidas ou estiverem ausentes, voc√™ receber√° um erro 401:

```json
{
  "statusCode": 401,
  "message": "Invalid credentials",
  "error": "Unauthorized"
}
```

## Melhores Pr√°ticas de Seguran√ßa

<AccordionGroup>
  <Accordion title="Armazene credenciais com seguran√ßa">
    - Use vari√°veis de ambiente para armazenar suas credenciais
    - Nunca fa√ßa commit de credenciais no controle de vers√£o (Git)
    - Use ferramentas de gerenciamento de secrets em produ√ß√£o (AWS Secrets Manager, Azure Key Vault, etc.)
  </Accordion>

  <Accordion title="Proteja suas requisi√ß√µes">
    - Sempre use HTTPS para comunica√ß√£o com a API
    - Implemente rate limiting em sua aplica√ß√£o
    - Monitore o uso da API para detectar atividades suspeitas
  </Accordion>

  <Accordion title="Rota√ß√£o de credenciais">
    - Rotacione suas credenciais periodicamente
    - Revogue imediatamente credenciais comprometidas
    - Mantenha credenciais diferentes para ambientes de desenvolvimento e produ√ß√£o
  </Accordion>

  <Accordion title="Ambiente de desenvolvimento">
    - Use credenciais de sandbox/teste para desenvolvimento
    - Nunca use credenciais de produ√ß√£o em ambientes de teste
    - Limite o acesso √†s credenciais apenas para membros autorizados da equipe
  </Accordion>
</AccordionGroup>

## Ambientes

A API StylePay est√° dispon√≠vel nos seguintes ambientes:

| Ambiente | Base URL | Uso |
|----------|----------|-----|
| Produ√ß√£o | `https://api.stylepay.com.br` | Transa√ß√µes reais |
| Sandbox | `https://sandbox-api.stylepay.com.br` | Testes e desenvolvimento |

<Tip>
  Utilize o ambiente de **Sandbox** para testar sua integra√ß√£o antes de ir para produ√ß√£o. As credenciais s√£o diferentes entre os ambientes.
</Tip>

## Exemplo Completo

Aqui est√° um exemplo completo de como fazer uma requisi√ß√£o autenticada:

```javascript
// Configura√ß√£o (use vari√°veis de ambiente)
const CLIENT_ID = process.env.STYLEPAY_CLIENT_ID;
const CLIENT_SECRET = process.env.STYLEPAY_CLIENT_SECRET;
const BASE_URL = 'https://api.stylepay.com.br';

// Fun√ß√£o auxiliar para fazer requisi√ß√µes autenticadas
async function stylePayRequest(endpoint, method = 'GET', body = null) {
  const options = {
    method,
    headers: {
      'stpi': CLIENT_ID,
      'stps': CLIENT_SECRET,
      'Content-Type': 'application/json'
    }
  };

  if (body) {
    options.body = JSON.stringify(body);
  }

  try {
    const response = await fetch(`${BASE_URL}${endpoint}`, options);
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    return await response.json();
  } catch (error) {
    console.error('Erro na requisi√ß√£o:', error);
    throw error;
  }
}

// Exemplo de uso
async function consultarSaldo() {
  const saldo = await stylePayRequest('/api/v1/wallet/balance');
  console.log('Saldo:', saldo.balance);
}
```

## Suporte

Se voc√™ tiver problemas com autentica√ß√£o ou precisar de novas credenciais:

- üìß Email: suporte@stylepay.com.br
- üì± WhatsApp: +55 11 9999-9999
- üåê Portal de Suporte: https://suporte.stylepay.com.br